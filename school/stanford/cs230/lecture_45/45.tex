\documentclass[a4paper, 11pt]{article}

% --- íŒ¨í‚¤ì§€ ì„¤ì • ---
\usepackage{kotex} % í•œê¸€ ì§€ì›
\usepackage{geometry} % ì—¬ë°± ì„¤ì •
\geometry{left=25mm, right=25mm, top=25mm, bottom=25mm}
\usepackage{amsmath, amssymb, amsfonts} % ìˆ˜ì‹ íŒ¨í‚¤ì§€
\usepackage{graphicx}
\usepackage{adjustbox}  % í‘œ/ë°•ìŠ¤ í¬ê¸° ì¡°ì ˆ % ì´ë¯¸ì§€ ì‚½ì…
\usepackage{hyperref} % í•˜ì´í¼ë§í¬
\usepackage{xcolor} % ìƒ‰ìƒ ì§€ì›
\usepackage{listings} % ì½”ë“œ ë¸”ë¡
\usepackage[most]{tcolorbox}
\tcbuselibrary{breakable} % ë°•ìŠ¤ ë””ìì¸
\usepackage{enumitem} % ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼
\usepackage{booktabs} % í‘œ ë””ìì¸
\usepackage{array} % í‘œ ì •ë ¬

% --- ìƒ‰ìƒ ì •ì˜ ---
\definecolor{conceptblue}{RGB}{60, 100, 160}
\definecolor{analogygreen}{RGB}{80, 160, 100}
\definecolor{alertred}{RGB}{200, 60, 60}
\definecolor{exampleorange}{RGB}{230, 120, 30}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{backcolour}{rgb}{0.96,0.96,0.96}

% --- ì½”ë“œ ìŠ¤íƒ€ì¼ ì„¤ì • ---
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{analogygreen},
    keywordstyle=\color{conceptblue},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{exampleorange},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=4,
    frame=single
}
\lstset{style=mystyle}

% --- ë°•ìŠ¤ ìŠ¤íƒ€ì¼ ì •ì˜ ---
\newtcolorbox{summarybox}[1]{
    colback=conceptblue!5!white,
    colframe=conceptblue!80!black,
    fonttitle=\bfseries,
    title=ğŸ“Œ #1
}

\newtcolorbox{analogybox}[1]{
    colback=analogygreen!5!white,
    colframe=analogygreen!80!black,
    fonttitle=\bfseries,
    title=ğŸ’¡ #1 (ì§ê´€ì  ë¹„ìœ )
}

\newtcolorbox{warningbox}[1]{
    colback=alertred!5!white,
    colframe=alertred!80!black,
    fonttitle=\bfseries,
    title=âš ï¸ #1 (ì˜¤í•´ ë°©ì§€ ê°€ì´ë“œ)
}

\newtcolorbox{formulabox}[1]{
    colback=exampleorange!5!white,
    colframe=exampleorange!80!black,
    fonttitle=\bfseries,
    title=ğŸ§® #1 (í•µì‹¬ ìˆ˜ì‹)
}

% --- ë¬¸ì„œ ì •ë³´ ---
\title{\textbf{[CS230] Sequence Models: \\ Debiasing Word Embeddings}}
\author{Lecturer: Gemini (Integrated Editor)}
\date{}

\begin{document}

\maketitle

% --- 1. ì „ì²´ ëª©ì°¨ (TOC) ---
\section*{ğŸ“š Course Table of Contents}
\begin{itemize}
    \item[Chapter 1-9.] Deep Learning Fundamentals \& CNNs \textit{- Completed}
    \item[\textbf{Chapter 10.}] \textbf{Sequence Models (Current Part)}
    \begin{itemize}
        \item 10.1-10.6 RNN, LSTM, Word2Vec, GloVe \textit{- Completed}
        \item \textbf{10.7 Debiasing Word Embeddings}
        \begin{itemize}
            \item The Problem: "Man is to Computer Programmer..."
            \item Geometry of Bias: Identifying the Bias Axis
            \item Neutralize Algorithm (Projection)
            \item Equalize Algorithm (Equidistance)
        \end{itemize}
    \end{itemize}
    \item[Chapter 11.] Attention Mechanism \textit{- Next Part}
\end{itemize}

\vspace{0.5cm}
\hrule
\vspace{0.5cm}

% --- 3. ì´ì „ ë‹¨ì› ì—°ê²° ---
\section*{ğŸ”— ì§€ë‚œ ì‹œê°„ ë³µìŠµ ë° ì—°ê²°}
ì§€ë‚œ ì‹œê°„ì— ë°°ìš´ Word2Vecì€ ë†€ë¼ì› ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ 2016ë…„, ì—°êµ¬ìë“¤ì€ ì¶©ê²©ì ì¸ ì‚¬ì‹¤ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.
\textbf{"ë‚¨ìì—ê²Œ í”„ë¡œê·¸ë˜ë¨¸ê°€ ìˆë‹¤ë©´, ì—¬ìì—ê²ŒëŠ” ëˆ„ê°€ ìˆëŠ”ê°€?"}
ëª¨ë¸ì˜ ëŒ€ë‹µì€ \textbf{"ê°€ì •ì£¼ë¶€(Homemaker)"}ì˜€ìŠµë‹ˆë‹¤.
ì´ëŠ” ëª¨ë¸ì˜ ì˜ëª»ì´ ì•„ë‹™ë‹ˆë‹¤. ëª¨ë¸ì€ ì¸ê°„ì´ ì“´ í…ìŠ¤íŠ¸ì˜ í¸í–¥(Gender Bias)ì„ ê·¸ëŒ€ë¡œ í•™ìŠµí–ˆì„ ë¿ì…ë‹ˆë‹¤. ì˜¤ëŠ˜ì€ AI ìœ¤ë¦¬ì˜ í•µì‹¬, \textbf{ì„ë² ë”© í¸í–¥ ì œê±°}ë¥¼ ë°°ì›ë‹ˆë‹¤.

% --- 4. ê°œìš” ---
\section{Unit Overview}
\begin{summarybox}{í•µì‹¬ ëª©í‘œ}
ì´ ë‹¨ì›ì€ í•™ìŠµëœ ì„ë² ë”© ë²¡í„°ì—ì„œ ì‚¬íšŒì  í¸í–¥ì„ ìˆ˜í•™ì ìœ¼ë¡œ ì œê±°í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì„ ë‹¤ë£¹ë‹ˆë‹¤.
\begin{itemize}
    \item \textbf{ì‹ë³„:} í¸í–¥ ë°©í–¥(Gender Axis)ì„ ë²¡í„° ê³µê°„ì—ì„œ ì°¾ì•„ëƒ…ë‹ˆë‹¤.
    \item \textbf{ì¤‘í™” (Neutralize):} ì˜ì‚¬, ê°„í˜¸ì‚¬ ë“± ì¤‘ë¦½ ë‹¨ì–´ì—ì„œ í¸í–¥ ì„±ë¶„ì„ ì œê±°í•©ë‹ˆë‹¤ (íˆ¬ì˜).
    \item \textbf{ê· í˜•í™” (Equalize):} í• ë¨¸ë‹ˆ, í• ì•„ë²„ì§€ ë“± ì„±ë³„ ë‹¨ì–´ê°€ ì¤‘ë¦½ ë‹¨ì–´ì™€ ê°™ì€ ê±°ë¦¬ë¥¼ ê°–ë„ë¡ ì¡°ì •í•©ë‹ˆë‹¤.
\end{itemize}
\end{summarybox}

% --- 5. ìš©ì–´ ì •ë¦¬ ---
\section{Essential Terminology}
\begin{center}
\begin{tabular}{|c|l|l|}
\hline
\textbf{ìš©ì–´} & \textbf{ì˜ë¯¸} & \textbf{ì˜ˆì‹œ} \\ \hline
\textbf{Bias Axis} & ì„±ë³„ì„ ë‚˜íƒ€ë‚´ëŠ” ë²¡í„° ë°©í–¥. & $\vec{he} - \vec{she}$ ì˜ í‰ê· . \\ \hline
\textbf{Neutral Words} & ì„±ë³„ê³¼ ë¬´ê´€í•´ì•¼ í•˜ëŠ” ë‹¨ì–´. & Doctor, Nurse, Teacher. \\ \hline
\textbf{Gender Specific} & ì„±ë³„ì´ ì •ì˜ìƒ í•„ìš”í•œ ë‹¨ì–´. & Grandfather, Queen, Girl. \\ \hline
\end{tabular}
\end{center}

% --- 6. í•µì‹¬ ê°œë… ìƒì„¸ ì„¤ëª… ---
\section{Core Concepts: í¸í–¥ì˜ ê¸°í•˜í•™}

\subsection{1. Identifying Bias (í¸í–¥ ì‹ë³„)}
ì„ë² ë”© ê³µê°„ì—ì„œ ì„±ë³„ í¸í–¥ì€ ë‹¤ìŒê³¼ ê°™ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.
$$ Man : Woman :: King : Queen \quad (\text{ì ì ˆí•¨}) $$
$$ Man : Woman :: Doctor : \textbf{Nurse} \quad (\text{ë¶€ì ì ˆí•¨ - ê³ ì •ê´€ë…}) $$

\subsection{2. The Debiasing Algorithm (3ë‹¨ê³„)}


\subsubsection{Step 1: Identify Bias Direction (ì¶• ì°¾ê¸°)}
ì„±ë³„ì„ ë‚˜íƒ€ë‚´ëŠ” ë‹¨ì–´ ìŒë“¤ì˜ ì°¨ì´ë¥¼ í‰ê·  ë‚´ì–´ \textbf{ì„±ë³„ ì¶•(Gender Axis) $g$}ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
$$ g \approx \text{Average}(\vec{he}-\vec{she}, \vec{male}-\vec{female}, \dots) $$

\subsubsection{Step 2: Neutralize (ì¤‘í™”)}
"Doctor" ê°™ì€ ì¤‘ë¦½ ë‹¨ì–´ëŠ” ì„±ë³„ ì¶• ì„±ë¶„ì„ ê°€ì ¸ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤.
\textbf{Action:} ë‹¨ì–´ ë²¡í„° $w$ë¥¼ ì„±ë³„ ì¶• $g$ì— íˆ¬ì˜(Project)í•˜ì—¬ í¸í–¥ ì„±ë¶„ì„ ëºë‹ˆë‹¤.

\begin{formulabox}{ì¤‘í™” ê³µì‹ (Projection)}
$$ w_{debiased} = w - \frac{w \cdot g}{\|g\|^2} g $$
ë²¡í„° $w$ì—ì„œ ì„±ë³„ ì¶• ë°©í–¥ì˜ \textbf{ê·¸ë¦¼ì(ì„±ë¶„)}ë¥¼ ì œê±°í•˜ì—¬, ì„±ë³„ ì¶•ê³¼ ìˆ˜ì§ì´ ë˜ê²Œ ë§Œë“­ë‹ˆë‹¤.
\end{formulabox}

\subsubsection{Step 3: Equalize (ê· í˜•í™”)}
"Grandmother"ì™€ "Grandfather"ëŠ” ì„±ë³„ ì •ë³´ë¥¼ ê°€ì ¸ì•¼ í•˜ë¯€ë¡œ ì¤‘í™”í•˜ë©´ ì•ˆ ë©ë‹ˆë‹¤. í•˜ì§€ë§Œ "Babysitter"ì™€ì˜ ê±°ë¦¬ëŠ” ê³µí‰í•´ì•¼ í•©ë‹ˆë‹¤.
\textbf{Action:} ë‘ ë‹¨ì–´ê°€ ì¤‘ë¦½ ì¶•ì—ì„œ \textbf{ë“±ê±°ë¦¬(Equidistant)}ì— ìœ„ì¹˜í•˜ë„ë¡ ë¯¸ì„¸ ì¡°ì •í•©ë‹ˆë‹¤.

\vspace{0.5cm}\hrule\vspace{0.5cm}

\section{Implementation: Neutralize Function}

ë²¡í„° íˆ¬ì˜ì„ í†µí•´ í¸í–¥ì„ ì œê±°í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

\begin{lstlisting}[language=Python, caption=Neutralize Implementation, breaklines=true]
import numpy as np

def neutralize(curr_embedding, g):
    """
    curr_embedding: ì¤‘í™”í•  ë‹¨ì–´ ë²¡í„° (ì˜ˆ: doctor)
    g: í¸í–¥ ë°©í–¥ ë²¡í„° (bias axis)
    """
    # 1. í¸í–¥ ì„±ë¶„ ê³„ì‚° (Projection)
    # (w . g / ||g||^2) * g
    norm_sq = np.linalg.norm(g) ** 2
    projection = (np.dot(curr_embedding, g) / norm_sq) * g
    
    # 2. ì›ë³¸ì—ì„œ í¸í–¥ ì œê±°
    debiased_embedding = curr_embedding - projection
    
    return debiased_embedding

# --- ê²€ì¦ ---
if __name__ == "__main__":
    g = np.array([1.0, 0.0]) # xì¶•ì´ ì„±ë³„ ì¶•ì´ë¼ê³  ê°€ì •
    doctor = np.array([2.0, 4.0]) # ì„±ë³„ ì„±ë¶„(2.0)ì´ í¬í•¨ë¨
    
    # ì¤‘í™”
    doctor_debiased = neutralize(doctor, g)
    
    print(f"Original: {doctor}")
    print(f"Debiased: {doctor_debiased}") 
    # ì˜ˆìƒ: [0.0, 4.0] (ì„±ë³„ ì„±ë¶„ì´ 0ì´ ë¨)
\end{lstlisting}

% --- 8. FAQ ---
\section{FAQ \& Pitfalls}

\begin{warningbox}{ëª¨ë“  ë‹¨ì–´ë¥¼ ì¤‘í™”í•˜ë©´ ì•ˆ ë©ë‹ˆë‹¤!}
"King", "Queen", "Actor", "Actress" ê°™ì€ ë‹¨ì–´ëŠ” ì„±ë³„ ì •ë³´ê°€ ê·¸ ë‹¨ì–´ì˜ í•µì‹¬ ì˜ë¯¸ì…ë‹ˆë‹¤. ì´ëŸ° ë‹¨ì–´ë“¤ì„ ì¤‘í™”í•´ë²„ë¦¬ë©´ "King"ê³¼ "Queen"ì´ ë˜‘ê°™ì€ ë‹¨ì–´ê°€ ë˜ì–´ë²„ë¦½ë‹ˆë‹¤.
ë”°ë¼ì„œ \textbf{ì„±ë³„ ì •ì˜ ë‹¨ì–´(Gender Definition Words)}ë¥¼ ë¶„ë¥˜í•˜ëŠ” ì‘ì—…ì´ ì„ í–‰ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
\end{warningbox}

\textbf{Q. ì´ ë°©ë²•ìœ¼ë¡œ ëª¨ë“  í¸í–¥ì´ ì‚¬ë¼ì§€ë‚˜ìš”?} \\
\textbf{A.} ì™„ë²½í•˜ì§„ ì•ŠìŠµë‹ˆë‹¤. 'Hard Debiasing'ì€ ë²¡í„°ì˜ ë°©í–¥ë§Œ ìˆ˜ì •í•˜ì§€ë§Œ, ë‹¨ì–´ë“¤ì´ ë­‰ì³ ìˆëŠ” í´ëŸ¬ìŠ¤í„°ë§ êµ¬ì¡° ë“± ê°„ì ‘ì ì¸ í¸í–¥ì€ ë‚¨ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ë§¤ìš° íš¨ê³¼ì ì¸ ì²«ê±¸ìŒì…ë‹ˆë‹¤.

% --- 9. ë‹¤ìŒ ë‹¨ì› ì—°ê²° ---
\section*{ğŸ”— ë‹¤ìŒ ë‹¨ê³„ (Next Step)}
ì´ì œ ìš°ë¦¬ëŠ” ë‹¨ì–´ë¥¼ ìœ¤ë¦¬ì ìœ¼ë¡œ ì˜¬ë°”ë¥¸ ë²¡í„°ë¡œ í‘œí˜„í•˜ëŠ” ë²•ê¹Œì§€ ë°°ì› ìŠµë‹ˆë‹¤. ì¤€ë¹„ëŠ” ëë‚¬ìŠµë‹ˆë‹¤.

ì´ì œ ë‹¨ì–´ë“¤ì„ ì¡°í•©í•´ ë¬¸ì¥ì„ í†µì§¸ë¡œ ë²ˆì—­í•˜ê±°ë‚˜ ìš”ì•½í•˜ëŠ” ê±°ëŒ€í•œ ëª¨ë¸ì„ ë§Œë“¤ì–´ ë´…ì‹œë‹¤.
ë‹¤ìŒ ì‹œê°„ì—ëŠ” ì…ë ¥ ì‹œí€€ìŠ¤ë¥¼ ì••ì¶•í–ˆë‹¤ê°€ ë‹¤ì‹œ í’€ì–´ë‚´ëŠ” \textbf{[Seq2Seq Model]}ê³¼, ê¸´ ë¬¸ì¥ ì²˜ë¦¬ì— í•„ìˆ˜ì ì¸ \textbf{[Beam Search]} ì•Œê³ ë¦¬ì¦˜ì— ëŒ€í•´ ë‹¤ë£¨ê² ìŠµë‹ˆë‹¤.

\vspace{0.5cm}

\begin{summarybox}{ë‹¨ì› ìš”ì•½ (Cheat Sheet)}
\begin{enumerate}
    \item \textbf{Bias:} í•™ìŠµ ë°ì´í„°ì˜ ì‚¬íšŒì  í¸í–¥ì´ ì„ë² ë”© ë²¡í„°ì— ë°˜ì˜ëœë‹¤.
    \item \textbf{Neutralize:} ì¤‘ë¦½ ë‹¨ì–´(ì§ì—… ë“±)ë¥¼ ì„±ë³„ ì¶•ì— ìˆ˜ì§ì´ ë˜ë„ë¡ íˆ¬ì˜í•œë‹¤.
    \item \textbf{Equalize:} ì„±ë³„ ë‹¨ì–´(í• ë¨¸ë‹ˆ/í• ì•„ë²„ì§€)ê°€ ì¤‘ë¦½ ë‹¨ì–´ì™€ ë“±ê±°ë¦¬ì— ìˆê²Œ í•œë‹¤.
    \item \textbf{Ethics:} AI ëª¨ë¸ ë°°í¬ ì „ í¸í–¥ ì œê±°ëŠ” í•„ìˆ˜ì ì¸ ì „ì²˜ë¦¬ ê³¼ì •ì´ë‹¤.
\end{enumerate}
\end{summarybox}

\end{document}