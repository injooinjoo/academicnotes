\documentclass[a4paper, 11pt]{article}

% --- íŒ¨í‚¤ì§€ ì„¤ì • ---
\usepackage{kotex} % í•œê¸€ ì§€ì›
\usepackage{geometry} % ì—¬ë°± ì„¤ì •
\geometry{left=25mm, right=25mm, top=25mm, bottom=25mm}
\usepackage{amsmath, amssymb, amsfonts} % ìˆ˜ì‹ íŒ¨í‚¤ì§€
\usepackage{graphicx}
\usepackage{adjustbox}  % í‘œ/ë°•ìŠ¤ í¬ê¸° ì¡°ì ˆ % ì´ë¯¸ì§€ ì‚½ì…
\usepackage{hyperref} % í•˜ì´í¼ë§í¬
\usepackage{xcolor} % ìƒ‰ìƒ ì§€ì›
\usepackage{listings} % ì½”ë“œ ë¸”ë¡
\usepackage[most]{tcolorbox}
\tcbuselibrary{breakable} % ë°•ìŠ¤ ë””ìì¸
\usepackage{enumitem} % ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼
\usepackage{booktabs} % í‘œ ë””ìì¸
\usepackage{array} % í‘œ ì •ë ¬

% --- ìƒ‰ìƒ ì •ì˜ ---
\definecolor{conceptblue}{RGB}{60, 100, 160}
\definecolor{analogygreen}{RGB}{80, 160, 100}
\definecolor{alertred}{RGB}{200, 60, 60}
\definecolor{exampleorange}{RGB}{230, 120, 30}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{backcolour}{rgb}{0.96,0.96,0.96}

% --- ì½”ë“œ ìŠ¤íƒ€ì¼ ì„¤ì • ---
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{analogygreen},
    keywordstyle=\color{conceptblue},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{exampleorange},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=4,
    frame=single
}
\lstset{style=mystyle}

% --- ë°•ìŠ¤ ìŠ¤íƒ€ì¼ ì •ì˜ ---
\newtcolorbox{summarybox}[1]{
    colback=conceptblue!5!white,
    colframe=conceptblue!80!black,
    fonttitle=\bfseries,
    title=ğŸ“Œ #1
}

\newtcolorbox{analogybox}[1]{
    colback=analogygreen!5!white,
    colframe=analogygreen!80!black,
    fonttitle=\bfseries,
    title=ğŸ’¡ #1 (ì§ê´€ì  ë¹„ìœ )
}

\newtcolorbox{warningbox}[1]{
    colback=alertred!5!white,
    colframe=alertred!80!black,
    fonttitle=\bfseries,
    title=âš ï¸ #1 (ì˜¤í•´ ë°©ì§€ ê°€ì´ë“œ)
}

\newtcolorbox{strategybox}[1]{
    colback=exampleorange!5!white,
    colframe=exampleorange!80!black,
    fonttitle=\bfseries,
    title=ğŸ§­ #1 (ì „ëµ ê°€ì´ë“œ)
}

% --- ë¬¸ì„œ ì •ë³´ ---
\title{\textbf{[CS230] Structuring Machine Learning Projects: \\ Error Analysis}}
\author{Lecturer: Gemini (Integrated Editor)}
\date{}

\begin{document}

\maketitle

% --- 1. ì „ì²´ ëª©ì°¨ (TOC) ---
\section*{ğŸ“š Course Table of Contents}
\begin{itemize}
    \item[Chapter 1-6.] ML Strategy Basics \textit{- Completed}
    \item[\textbf{Chapter 7.}] \textbf{Error Analysis (Current Unit)}
    \begin{itemize}
        \item \textbf{7.1 Manual Error Analysis}
        \begin{itemize}
            \item Philosophy: Don't Guess, Look
            \item Ceiling Analysis (Prioritization)
            \item Incorrectly Labeled Data Strategy
            \item Implementation: Analysis Tool
        \end{itemize}
        \item 7.2 Training vs Dev/Test Distribution Mismatch \textit{- Upcoming}
        \item 7.3 Transfer Learning \& Multi-task Learning \textit{- Upcoming}
    \end{itemize}
\end{itemize}

\vspace{0.5cm}
\hrule
\vspace{0.5cm}

% --- 3. ì´ì „ ë‹¨ì› ì—°ê²° ---
\section*{ğŸ”— ì§€ë‚œ ì‹œê°„ ë³µìŠµ ë° ì—°ê²°}
ìš°ë¦¬ëŠ” ìµœì ì˜ ëª¨ë¸ì„ ì„ íƒí•˜ëŠ” ë°©ë²•ì„ ë°°ì› ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì„ íƒëœ ëª¨ë¸ë„ ëª©í‘œ ì„±ëŠ¥(ì˜ˆ: 99\%)ì—ëŠ” ë„ë‹¬í•˜ì§€ ëª»í–ˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì´ë•Œ ë§ì€ ì—”ì§€ë‹ˆì–´ë“¤ì´ \textbf{"ì§ê°"}ì— ì˜ì¡´í•©ë‹ˆë‹¤. "ê°œê°€ ê³ ì–‘ì´ì²˜ëŸ¼ ë³´ì´ë„¤? ê°œ ë°ì´í„°ë¥¼ ë” ëª¨ìœ¼ì", "íë ¤ì„œ ê·¸ëŸ°ê°€? í¬í† ìƒµ ì „ì²˜ë¦¬ë¥¼ í•˜ì."
í•˜ì§€ë§Œ ì´ê²ƒì´ ìˆ˜ê°œì›”ì„ ë‚­ë¹„í•˜ëŠ” ìµœì•…ì˜ ê²°ì •ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì§ê°ì´ ì•„ë‹ˆë¼ \textbf{'ë°ì´í„°'}ê°€ ë§í•˜ê²Œ í•´ì•¼ í•©ë‹ˆë‹¤. ì˜¤ëŠ˜ ë°°ìš¸ \textbf{ì—ëŸ¬ ë¶„ì„}ì€ ê°€ì¥ íš¨ìœ¨ì ì¸ ì„±ëŠ¥ í–¥ìƒ ê²½ë¡œë¥¼ ì•Œë ¤ì£¼ëŠ” ë‚˜ì¹¨ë°˜ì…ë‹ˆë‹¤.

% --- 4. ê°œìš” ---
\section{Unit Overview}
\begin{summarybox}{í•µì‹¬ ëª©í‘œ}
ì´ ë‹¨ì›ì€ í‹€ë¦° ë°ì´í„°ë¥¼ ì§ì ‘ ë¶„ì„í•˜ì—¬ í”„ë¡œì íŠ¸ì˜ ìš°ì„ ìˆœìœ„ë¥¼ ì •í•˜ëŠ” ì „ëµì„ ë‹¤ë£¹ë‹ˆë‹¤.
\begin{itemize}
    \item \textbf{ì² í•™:} "ì¶”ì¸¡í•˜ì§€ ë§ê³  í™•ì¸í•˜ë¼(Don't guess, look)." ì˜¤ë¶„ë¥˜ëœ ë°ì´í„°ë¥¼ ì§ì ‘ ëˆˆìœ¼ë¡œ í™•ì¸í•©ë‹ˆë‹¤.
    \item \textbf{ì²œì¥ ë¶„ì„:} íŠ¹ì • ë¬¸ì œë¥¼ í•´ê²°í–ˆì„ ë•Œ ì„±ëŠ¥ì´ ì–¼ë§ˆë‚˜ ì˜¤ë¥¼ì§€ ìƒí•œì„ (Ceiling)ì„ ê³„ì‚°í•©ë‹ˆë‹¤.
    \item \textbf{ë¼ë²¨ ì˜¤ë¥˜:} ì •ë‹µ ë¼ë²¨ ìì²´ê°€ í‹€ë¦° ê²½ìš°(Incorrect Label), ì´ë¥¼ ìˆ˜ì •í•´ì•¼ í• ì§€ íŒë‹¨í•˜ëŠ” ê¸°ì¤€ì„ ë°°ì›ë‹ˆë‹¤.
    \item \textbf{êµ¬í˜„:} ì—ëŸ¬ ë¦¬í¬íŠ¸ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•˜ëŠ” Python í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
\end{itemize}
\end{summarybox}

% --- 5. ìš©ì–´ ì •ë¦¬ ---
\section{Essential Terminology}
\begin{center}
\begin{tabular}{|c|l|l|}
\hline
\textbf{ìš©ì–´} & \textbf{ì˜ë¯¸} & \textbf{í™œìš©} \\ \hline
\textbf{Ceiling Analysis} & ì„±ëŠ¥ í–¥ìƒì˜ ìµœëŒ€ì¹˜ ë¶„ì„ & "ì´ê±° ê³ ì¹˜ë©´ ëª‡ ì  ì˜¤ë¥´ì§€?" ê³„ì‚° \\ \hline
\textbf{Misclassified} & ì˜¤ë¶„ë¥˜ëœ ë°ì´í„° & ëª¨ë¸ì´ í‹€ë¦° ê²ƒë§Œ ëª¨ì•„ë†“ì€ ì§‘í•© \\ \hline
\textbf{Incorrect Label} & ì˜ëª»ëœ ì •ë‹µì§€ & ì‚¬ëŒì´ ì‹¤ìˆ˜ë¡œ ë¼ë²¨ë§ì„ ì˜ëª»í•œ ê²½ìš° \\ \hline
\end{tabular}
\end{center}

% --- 6. í•µì‹¬ ê°œë… ìƒì„¸ ì„¤ëª… ---
\section{Core Concepts: ë°ì´í„°ê°€ ë§í•˜ê²Œ í•˜ë¼}

\subsection{1. The Philosophy: Don't Guess, Look}
ëª¨ë¸ ì •í™•ë„ê°€ 90\%ì…ë‹ˆë‹¤. (ì—ëŸ¬ìœ¨ 10\%).
íŒ€ì›ì´ ì œì•ˆí•©ë‹ˆë‹¤. \textbf{"íë¦¿í•œ(Blurry) ì‚¬ì§„ ë•Œë¬¸ì— í‹€ë¦¬ëŠ” ê²ƒ ê°™ì•„ìš”. íë¦¼ ì œê±° ëª¨ë¸ì„ ë§Œë“­ì‹œë‹¤! (ì˜ˆìƒ ì†Œìš”: 3ê°œì›”)"}
ì´ ì œì•ˆì„ ìˆ˜ë½í•´ì•¼ í• ê¹Œìš”? \textbf{ì²œì¥ ë¶„ì„(Ceiling Analysis)}ì„ í•´ë³´ê¸° ì „ì—” ëª¨ë¦…ë‹ˆë‹¤.

\subsection{2. Ceiling Analysis (ì²œì¥ ë¶„ì„)}
Dev Setì—ì„œ ëª¨ë¸ì´ í‹€ë¦° ìƒ˜í”Œ 100ê°œë¥¼ ë¬´ì‘ìœ„ë¡œ ë½‘ì•„ ì—‘ì…€ì— ì •ë¦¬í•©ë‹ˆë‹¤.



\begin{strategybox}{ë¶„ì„ ê²°ê³¼ ì‹œë®¬ë ˆì´ì…˜}
\begin{center}
\begin{tabular}{l|c|c}
\hline
\textbf{ì—ëŸ¬ ì›ì¸ (Category)} & \textbf{ë¹„ìœ¨ (Count)} & \textbf{Ceiling (ì˜ˆìƒ í–¥ìƒ)} \\ \hline
íë¦¿í•¨ (Blurry) & 5\% & $10\% \times 0.05 = \mathbf{0.5\%}$ \\ \hline
ë°°ê²½ ë…¸ì´ì¦ˆ (Noise) & 60\% & $10\% \times 0.60 = \mathbf{6.0\%}$ \\ \hline
ê³ ì–‘ì´ ë‹®ì€ ê°œ & 35\% & $10\% \times 0.35 = \mathbf{3.5\%}$ \\ \hline
\end{tabular}
\end{center}
\textbf{ê²°ë¡ :} íë¦¼ ì œê±° ëª¨ë¸ì„ ì™„ë²½í•˜ê²Œ ë§Œë“¤ì–´ë„ ì„±ëŠ¥ì€ ê³ ì‘ \textbf{0.5\%} ì˜¤ë¦…ë‹ˆë‹¤. 3ê°œì›”ì„ ë‚­ë¹„í•  ë»”í–ˆìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” \textbf{'ë°°ê²½ ë…¸ì´ì¦ˆ'} ë¬¸ì œ(6.0\% í–¥ìƒ ê°€ëŠ¥)ì— ì§‘ì¤‘í•´ì•¼ í•©ë‹ˆë‹¤.
\end{strategybox}

\vspace{0.5cm}\hrule\vspace{0.5cm}

\subsection{3. Incorrectly Labeled Data (ë¼ë²¨ ì˜¤ë¥˜)}
ë°ì´í„°ë¥¼ ë³´ë‹¤ ë³´ë‹ˆ, ëª¨ë¸ì€ ë§ì•˜ëŠ”ë° ì‚¬ëŒì´ ì •ë‹µì„ ì˜ëª» ë‹¬ì•„ë†“ì€ ê²½ìš°ë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤. ê³ ì³ì•¼ í• ê¹Œìš”?

\begin{itemize}
    \item \textbf{Training Set:} ë”¥ëŸ¬ë‹ì€ \textbf{ë¬´ì‘ìœ„ ì˜¤ë¥˜(Random Error)}ì— ê°•í•©ë‹ˆë‹¤. ë°ì´í„°ê°€ ë§ë‹¤ë©´ ë¬´ì‹œí•´ë„ ë©ë‹ˆë‹¤. (ë‹¨, ì²´ê³„ì  ì˜¤ë¥˜ëŠ” ìˆ˜ì • í•„ìˆ˜)
    \item \textbf{Dev/Test Set:} ì—ëŸ¬ ë¶„ì„ í‘œì— 'Incorrect Label' ì—´ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
    \begin{itemize}
        \item ë§Œì•½ ì´ ë¹„ìœ¨ì´ ì „ì²´ ì—ëŸ¬ì˜ ìƒë‹¹ìˆ˜ë¼ë©´(ì˜ˆ: ì—ëŸ¬ì˜ 30\%), \textbf{ë°˜ë“œì‹œ ê³ ì³ì•¼ í•©ë‹ˆë‹¤.}
        \item \textbf{ì£¼ì˜:} Devì™€ TestëŠ” í•­ìƒ \textbf{ë™ì‹œì—} ê³ ì³ì•¼ ë¶„í¬ê°€ ìœ ì§€ë©ë‹ˆë‹¤.
    \end{itemize}
\end{itemize}

% --- 7. êµ¬í˜„ ì½”ë“œ ---
\section{Implementation: Error Report Generator}

ì—ëŸ¬ ë¶„ì„ì„ ë„ì™€ì£¼ëŠ” ìë™í™” ë„êµ¬ì…ë‹ˆë‹¤.

\begin{lstlisting}[language=Python, caption=Error Analysis Tool, breaklines=true]
import pandas as pd
import numpy as np

class ErrorAnalyzer:
    def __init__(self, y_true, y_pred):
        self.y_true = np.array(y_true)
        self.y_pred = np.array(y_pred)
        # í‹€ë¦° ì¸ë±ìŠ¤ ì¶”ì¶œ
        self.error_indices = np.where(self.y_true != self.y_pred)[0]
        self.total_errors = len(self.error_indices)
        self.total_samples = len(y_true)

    def generate_report(self, manual_tags):
        """
        manual_tags: {index: ['Blurry', 'Noise'], ...}
        """
        counts = {}
        for tags in manual_tags.values():
            for tag in tags:
                counts[tag] = counts.get(tag, 0) + 1
        
        df = pd.DataFrame(list(counts.items()), columns=['Category', 'Count'])
        
        # Ceiling Analysis ê³„ì‚°
        # ì „ì²´ ë°ì´í„° ëŒ€ë¹„ ì„±ëŠ¥ í–¥ìƒ ê°€ëŠ¥ì¹˜
        df['Ceiling (%)'] = (df['Count'] / self.total_samples) * 100
        
        # ì •ë ¬
        df = df.sort_values(by='Count', ascending=False)
        return df

# --- ì‹¤í–‰ ---
if __name__ == "__main__":
    # ì „ì²´ ë°ì´í„° 1000ê°œ ì¤‘ ì—ëŸ¬ 100ê°œë¼ê³  ê°€ì •
    y_true = np.zeros(1000)
    y_pred = np.zeros(1000)
    y_pred[:100] = 1 # 100ê°œ í‹€ë¦¼
    
    analyzer = ErrorAnalyzer(y_true, y_pred)
    
    # ì‚¬ëŒì´ ì§ì ‘ ë³´ê³  íƒœê¹…í–ˆë‹¤ê³  ê°€ì • (ì—‘ì…€ ì—°ë™)
    tags = {
        0: ['Blurry'], 1: ['Noise'], 2: ['Blurry', 'Noise'],
        # ... (ìƒëµ) ...
        99: ['Noise']
    }
    # (ê°€ì •: Blurry 5ê°œ, Noise 60ê°œ)
    
    # ë¦¬í¬íŠ¸ ìƒì„±
    # df = analyzer.generate_report(tags)
    # print(df)
\end{lstlisting}

% --- 8. FAQ ---
\section{FAQ \& Pitfalls}

\begin{warningbox}{Dev Setë§Œ ê³ ì¹˜ë©´ ì•ˆ ë˜ë‚˜ìš”?}
\textbf{ì ˆëŒ€ ì•ˆ ë©ë‹ˆë‹¤.}
Dev Setì˜ ë¼ë²¨ë§Œ ê³ ì¹˜ê³  Test Setì„ ê·¸ëŒ€ë¡œ ë‘ë©´, ë‘ ë°ì´í„°ì…‹ì˜ ë¶„í¬ê°€ ë‹¬ë¼ì§‘ë‹ˆë‹¤(Distribution Mismatch). í‰ê°€ì˜ ì‹ ë¢°ë„ê°€ ê¹¨ì§‘ë‹ˆë‹¤. ê·€ì°®ë”ë¼ë„ Devì™€ TestëŠ” \textbf{í•œ ëª¸ì²˜ëŸ¼} ë‹¤ë¤„ì•¼ í•©ë‹ˆë‹¤.
\end{warningbox}

\textbf{Q. ëª‡ ê°œë‚˜ ë¶„ì„í•´ì•¼ í•˜ë‚˜ìš”?} \\
\textbf{A.} ë³´í†µ \textbf{100ê°œ} ì •ë„ë©´ ì¶©ë¶„í•œ í†µê³„ì  ì¸ì‚¬ì´íŠ¸ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í˜¼ìì„œ 100ê°œ ë³´ëŠ” ë° 1~2ì‹œê°„ì´ë©´ ë©ë‹ˆë‹¤. íŒ€ì›ë“¤ê³¼ 100ê°œì”© ë‚˜ëˆ ì„œ ë³´ë©´ ë” ì¢‹ìŠµë‹ˆë‹¤.

% --- 9. ë‹¤ìŒ ë‹¨ì› ì—°ê²° ---
\section*{ğŸ”— ë‹¤ìŒ ë‹¨ê³„ (Next Step)}
ì—ëŸ¬ ë¶„ì„ì„ í†µí•´ 'ë¬´ì—‡'ì„ ê³ ì³ì•¼ í• ì§€ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
ê·¸ëŸ°ë° ë¶„ì„ ê²°ê³¼, \textbf{"í›ˆë ¨ ë°ì´í„°ì™€ ê²€ì¦ ë°ì´í„°ì˜ ë¶„í¬ê°€ ë„ˆë¬´ ë‹¤ë¥´ë‹¤"}ëŠ” ê²°ë¡ ì´ ë‚˜ì˜¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œìš”? (ì˜ˆ: í›ˆë ¨ì€ ê³ í™”ì§ˆ, ê²€ì¦ì€ ì €í™”ì§ˆ)

ì´ê²ƒì€ ë‹¨ìˆœí•œ ê³¼ëŒ€ì í•©ê³¼ëŠ” ë‹¤ë¥¸ ì°¨ì›ì˜ ë¬¸ì œì…ë‹ˆë‹¤. ë‹¤ìŒ ì‹œê°„ì—ëŠ” \textbf{[Training vs Dev/Test Distribution Mismatch]} ë¬¸ì œë¥¼ ì§„ë‹¨í•˜ê³  í•´ê²°í•˜ëŠ” ê³ ê¸‰ ì „ëµì¸ \textbf{'Training-Dev Set'}ì˜ ê°œë…ì— ëŒ€í•´ ë°°ìš°ê² ìŠµë‹ˆë‹¤.

\vspace{0.5cm}

\begin{summarybox}{ë‹¨ì› ìš”ì•½ (Cheat Sheet)}
\begin{enumerate}
    \item \textbf{Don't Guess:} ì§ê°ì´ ì•„ë‹Œ ë°ì´í„°ë¥¼ ë³´ê³  ê²°ì •í•˜ë¼.
    \item \textbf{Ceiling Analysis:} íŠ¹ì • ë¬¸ì œë¥¼ í•´ê²°í–ˆì„ ë•Œ ì–»ì„ ìˆ˜ ìˆëŠ” ìµœëŒ€ ì´ìµ(ROI)ì„ ê³„ì‚°í•˜ë¼.
    \item \textbf{Incorrect Label:} ì „ì²´ ì—ëŸ¬ ì¤‘ ë¹„ì¤‘ì´ ë†’ë‹¤ë©´ ìˆ˜ì •í•˜ë¼. ë‹¨, Dev/Testë¥¼ ë™ì‹œì— ìˆ˜ì •í•´ì•¼ í•œë‹¤.
    \item \textbf{Spreadsheet:} ì—‘ì…€ ë“±ì„ í™œìš©í•´ íŒ€ì›ê³¼ ì—ëŸ¬ ì›ì¸ì„ ê³µìœ í•˜ë¼.
\end{enumerate}
\end{summarybox}

\end{document}