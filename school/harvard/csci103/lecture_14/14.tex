%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Harvard Academic Notes - í†µí•© ë§ˆìŠ¤í„° í…œí”Œë¦¿
% ëª¨ë“  ê°•ì˜ ë…¸íŠ¸ì— ì ìš©ë˜ëŠ” í†µì¼ëœ ìŠ¤íƒ€ì¼
% ë²„ì „: 2.1 - ê°€ë…ì„± ê°œì„  (ì„ íƒì  ìµœì í™”)
% ìµœì¢… ìˆ˜ì •ì¼: 2025-11-17
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[11pt,a4paper]{article}

%========================================================================================
% ê¸°ë³¸ íŒ¨í‚¤ì§€
%========================================================================================

% --- í•œêµ­ì–´ ì§€ì› ---
\usepackage{kotex}

% --- í˜ì´ì§€ ë ˆì´ì•„ì›ƒ ---
\usepackage[top=20mm, bottom=20mm, left=20mm, right=18mm]{geometry}
\usepackage{setspace}
\onehalfspacing                      % 1.5ë°° ì¤„ê°„ê²©
\setlength{\parskip}{0.5em}          % ë¬¸ë‹¨ ê°„ê²©
\setlength{\parindent}{0pt}          % ë“¤ì—¬ì“°ê¸° ì—†ìŒ

% --- í‘œ ê´€ë ¨ ---
\usepackage{booktabs}              % ê³ í’ˆì§ˆ í‘œ
\usepackage{tabularx}              % ìë™ ë„ˆë¹„ ì¡°ì ˆ í‘œ
\usepackage{array}                 % í‘œ ì»¬ëŸ¼ í™•ì¥
\usepackage{longtable}             % ì—¬ëŸ¬ í˜ì´ì§€ í‘œ
\renewcommand{\arraystretch}{1.1}  % í‘œ í–‰ê°„ ì¡°ì ˆ

%========================================================================================
% í—¤ë” ë° í‘¸í„°
%========================================================================================

\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\small\textit{CSCI E-103: ì¬í˜„ ê°€ëŠ¥í•œ ë¨¸ì‹ ëŸ¬ë‹}}
\fancyhead[R]{\small\textit{Lecture 14}}
\fancyfoot[C]{\thepage}
\renewcommand{\headrulewidth}{0.5pt}
\renewcommand{\footrulewidth}{0.3pt}

% ì²« í˜ì´ì§€ëŠ” í—¤ë” ì—†ìŒ
\fancypagestyle{firstpage}{
    \fancyhf{}
    \fancyfoot[C]{\thepage}
    \renewcommand{\headrulewidth}{0pt}
}

%========================================================================================
% ìƒ‰ìƒ ì •ì˜ (íŒŒìŠ¤í…” í†¤ + ë‹¤í¬ëª¨ë“œ í˜¸í™˜)
%========================================================================================

\usepackage[dvipsnames]{xcolor}

% ë°ì€ ë°°ê²½ìš© íŒŒìŠ¤í…” ìƒ‰ìƒ
\definecolor{lightblue}{RGB}{220, 235, 255}      % ë¶€ë“œëŸ¬ìš´ íŒŒë‘
\definecolor{lightgreen}{RGB}{220, 255, 235}     % ë¶€ë“œëŸ¬ìš´ ì´ˆë¡
\definecolor{lightyellow}{RGB}{255, 250, 220}    % ë¶€ë“œëŸ¬ìš´ ë…¸ë‘
\definecolor{lightpurple}{RGB}{240, 230, 255}    % ë¶€ë“œëŸ¬ìš´ ë³´ë¼
\definecolor{lightgray}{gray}{0.95}              % ë°ì€ íšŒìƒ‰
\definecolor{lightpink}{RGB}{255, 235, 245}      % ë¶€ë“œëŸ¬ìš´ í•‘í¬
\definecolor{boxgray}{gray}{0.95}
\definecolor{boxblue}{rgb}{0.9, 0.95, 1.0}
\definecolor{boxred}{rgb}{1.0, 0.95, 0.95}

% ì§„í•œ ìƒ‰ìƒ (í…Œë‘ë¦¬/ì œëª©ìš©)
\definecolor{darkblue}{RGB}{50, 80, 150}
\definecolor{darkgreen}{RGB}{40, 120, 70}
\definecolor{darkorange}{RGB}{200, 100, 30}
\definecolor{darkpurple}{RGB}{100, 60, 150}

%========================================================================================
% ë°•ìŠ¤ í™˜ê²½ (tcolorbox) - 6ê°€ì§€ íƒ€ì…
%========================================================================================

\usepackage[most]{tcolorbox}
\tcbuselibrary{skins, breakable}

% 1. ê°œìš” ë°•ìŠ¤ (ê°•ì˜ ì‹œì‘ ë¶€ë¶„)
\newtcolorbox{overviewbox}[1][]{
    enhanced,
    colback=lightpurple,
    colframe=darkpurple,
    fonttitle=\bfseries\large,
    title=ğŸ“š ê°•ì˜ ê°œìš”,
    arc=3mm,
    boxrule=1pt,
    left=8pt,
    right=8pt,
    top=8pt,
    bottom=8pt,
    breakable,
    #1
}

% 2. ìš”ì•½ ë°•ìŠ¤
\newtcolorbox{summarybox}[1][]{
    enhanced,
    colback=lightblue,
    colframe=darkblue,
    fonttitle=\bfseries,
    title=ğŸ“ í•µì‹¬ ìš”ì•½,
    arc=2mm,
    boxrule=0.7pt,
    left=6pt,
    right=6pt,
    top=6pt,
    bottom=6pt,
    breakable,
    #1
}

% 3. í•µì‹¬ ì •ë³´ ë°•ìŠ¤
\newtcolorbox{infobox}[1][]{
    enhanced,
    colback=lightgreen,
    colframe=darkgreen,
    fonttitle=\bfseries,
    title=ğŸ’¡ í•µì‹¬ ì •ë³´,
    arc=2mm,
    boxrule=0.7pt,
    left=6pt,
    right=6pt,
    top=6pt,
    bottom=6pt,
    breakable,
    #1
}

% 4. ì£¼ì˜ì‚¬í•­ ë°•ìŠ¤
\newtcolorbox{warningbox}[1][]{
    enhanced,
    colback=lightyellow,
    colframe=darkorange,
    fonttitle=\bfseries,
    title=âš ï¸ ì£¼ì˜ì‚¬í•­,
    arc=2mm,
    boxrule=0.7pt,
    left=6pt,
    right=6pt,
    top=6pt,
    bottom=6pt,
    breakable,
    #1
}

% 5. ì˜ˆì œ ë°•ìŠ¤
\newtcolorbox{examplebox}[1][]{
    enhanced,
    colback=lightgray,
    colframe=black!60,
    fonttitle=\bfseries,
    title=ğŸ“– ì˜ˆì œ: #1,
    arc=2mm,
    boxrule=0.7pt,
    left=6pt,
    right=6pt,
    top=6pt,
    bottom=6pt,
    breakable,
}

% 6. ì •ì˜ ë°•ìŠ¤
\newtcolorbox{definitionbox}[1][]{
    enhanced,
    colback=lightpink,
    colframe=purple!70!black,
    fonttitle=\bfseries,
    title=ğŸ“Œ ì •ì˜: #1,
    arc=2mm,
    boxrule=0.7pt,
    left=6pt,
    right=6pt,
    top=6pt,
    bottom=6pt,
    breakable,
}

% 7. ì¤‘ìš” ë°•ìŠ¤ (importantbox - warningboxì™€ ìœ ì‚¬)
\newtcolorbox{importantbox}[1][]{
    enhanced,
    colback=boxred,
    colframe=red!70!black,
    fonttitle=\bfseries,
    title=âš ï¸ ë§¤ìš° ì¤‘ìš”: #1,
    arc=2mm,
    boxrule=0.7pt,
    left=6pt,
    right=6pt,
    top=6pt,
    bottom=6pt,
    breakable,
}

% 8. cautionbox (warningboxì™€ ë™ì¼)
\let\cautionbox\warningbox
\let\endcautionbox\endwarningbox

%========================================================================================
% ì½”ë“œ ë¸”ë¡ ì„¤ì • (ë°ì€ ë°°ê²½)
%========================================================================================

\usepackage{listings}

\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.95}

\lstset{
    basicstyle=\ttfamily\small,
    backgroundcolor=\color{lightgray},
    keywordstyle=\color{darkblue}\bfseries,
    commentstyle=\color{darkgreen}\itshape,
    stringstyle=\color{purple!80!black},
    numberstyle=\tiny\color{black!60},
    numbers=left,
    numbersep=8pt,
    breaklines=true,
    breakatwhitespace=false,
    frame=single,
    frameround=tttt,
    rulecolor=\color{black!30},
    captionpos=b,
    showstringspaces=false,
    tabsize=2,
    xleftmargin=15pt,
    xrightmargin=5pt,
    escapeinside={\%*}{*)}
}

% Python ì½”ë“œ ìŠ¤íƒ€ì¼
\lstdefinestyle{pythonstyle}{
    language=Python,
    morekeywords={self, True, False, None},
}

% SQL ì½”ë“œ ìŠ¤íƒ€ì¼
\lstdefinestyle{sqlstyle}{
    language=SQL,
    morekeywords={SELECT, FROM, WHERE, JOIN, GROUP, BY, ORDER, HAVING},
}

%========================================================================================
% ëª©ì°¨ ìŠ¤íƒ€ì¼ë§
%========================================================================================

\usepackage{tocloft}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}
\setlength{\cftbeforesecskip}{0.4em}
\renewcommand{\cftsecfont}{\bfseries}
\renewcommand{\cftsubsecfont}{\normalfont}

%========================================================================================
% í‘œ ë° ê·¸ë¦¼
%========================================================================================

\usepackage{graphicx}              % ì´ë¯¸ì§€
\usepackage{adjustbox}             % í‘œ/ë°•ìŠ¤ í¬ê¸° ì¡°ì ˆ

% í‘œ ìº¡ì…˜ ìŠ¤íƒ€ì¼
\usepackage{caption}
\captionsetup[table]{
    labelfont=bf,
    textfont=it,
    skip=5pt
}
\captionsetup[figure]{
    labelfont=bf,
    textfont=it,
    skip=5pt
}

%========================================================================================
% ìˆ˜í•™
%========================================================================================

\usepackage{amsmath, amssymb, amsthm}

% ì •ë¦¬ í™˜ê²½
\theoremstyle{definition}
\newtheorem{theorem}{ì •ë¦¬}[section]
\newtheorem{lemma}[theorem]{ë³´ì¡°ì •ë¦¬}
\newtheorem{proposition}[theorem]{ëª…ì œ}
\newtheorem{corollary}[theorem]{ë”°ë¦„ì •ë¦¬}
\newtheorem{definition}{ì •ì˜}[section]
\newtheorem{example}{ì˜ˆì œ}[section]

%========================================================================================
% í•˜ì´í¼ë§í¬
%========================================================================================

\usepackage[
    colorlinks=true,
    linkcolor=blue!80!black,
    urlcolor=blue!80!black,
    citecolor=green!60!black,
    bookmarks=true,
    bookmarksnumbered=true,
    pdfborder={0 0 0}
]{hyperref}

% PDF ë©”íƒ€ë°ì´í„°ëŠ” ê° ë¬¸ì„œì—ì„œ ì„¤ì •
\hypersetup{
    pdftitle={CSCI E-103: ì¬í˜„ ê°€ëŠ¥í•œ ë¨¸ì‹ ëŸ¬ë‹ - Lecture 14},
    pdfauthor={ê°•ì˜ ë…¸íŠ¸},
    pdfsubject={Academic Notes}
}

%========================================================================================
% ê¸°íƒ€ ìœ ìš©í•œ íŒ¨í‚¤ì§€
%========================================================================================

\usepackage{enumitem}              % ë¦¬ìŠ¤íŠ¸ ì»¤ìŠ¤í„°ë§ˆì´ì§•
\setlist{nosep, leftmargin=*, itemsep=0.3em}

\usepackage{microtype}             % íƒ€ì´í¬ê·¸ë˜í”¼ ê°œì„ 
\usepackage{footnote}              % ê°ì£¼ ê°œì„ 
\usepackage{url}                   % URL ì¤„ë°”ê¿ˆ
\urlstyle{same}

%========================================================================================
% ì‚¬ìš©ì ì •ì˜ ëª…ë ¹ì–´
%========================================================================================

% ê°•ì¡° í…ìŠ¤íŠ¸
\newcommand{\important}[1]{\textbf{\textcolor{red!70!black}{#1}}}
\newcommand{\keyword}[1]{\textbf{#1}}
\newcommand{\term}[1]{\textit{#1}}
\newcommand{\code}[1]{\texttt{#1}}

% ìš©ì–´ ì„¤ëª… (ì¸ë¼ì¸)
\newcommand{\defterm}[2]{\textbf{#1}\footnote{#2}}

% ì„¹ì…˜ ì‹œì‘ ì „ í˜ì´ì§€ ë¶„ë¦¬
\newcommand{\newsection}[1]{\newpage\section{#1}}

%========================================================================================
% ë¬¸ì„œ ì œëª© ìŠ¤íƒ€ì¼
%========================================================================================

\usepackage{titling}
\pretitle{\begin{center}\LARGE\bfseries}
\posttitle{\par\end{center}\vskip 0.5em}
\preauthor{\begin{center}\large}
\postauthor{\end{center}}
\predate{\begin{center}\large}
\postdate{\par\end{center}}

%========================================================================================
% ì„¹ì…˜ ì œëª© ê°„ê²©
%========================================================================================

\usepackage{titlesec}
\titlespacing*{\section}{0pt}{1.5em}{0.8em}
\titlespacing*{\subsection}{0pt}{1.2em}{0.6em}
\titlespacing*{\subsubsection}{0pt}{1em}{0.5em}

%========================================================================================
% ë©”íƒ€ ì •ë³´ ë°•ìŠ¤ ëª…ë ¹ì–´
%========================================================================================

\newcommand{\metainfo}[4]{
\begin{tcolorbox}[
    colback=lightpurple,
    colframe=darkpurple,
    boxrule=1pt,
    arc=2mm,
    left=10pt,
    right=10pt,
    top=8pt,
    bottom=8pt
]
\begin{tabular}{@{}rl@{}}
â–£ \textbf{ê°•ì˜ëª…:} & #1 \\[0.3em]
â–£ \textbf{ì£¼ì°¨:} & #2 \\[0.3em]
â–£ \textbf{êµìˆ˜ëª…:} & #3 \\[0.3em]
â–£ \textbf{ëª©ì :} & \begin{minipage}[t]{0.75\textwidth}#4\end{minipage}
\end{tabular}
\end{tcolorbox}
}

%========================================================================================
% ë
%========================================================================================


\begin{document}

\metainfo{CSCI E-103: ì¬í˜„ ê°€ëŠ¥í•œ ë¨¸ì‹ ëŸ¬ë‹}{Lecture 14}{Anindita Mahapatra \& Eric Gieseke}{Lecture 14ì˜ í•µì‹¬ ê°œë… í•™ìŠµ}

% 3.1 ì²« í˜ì´ì§€ êµ¬ì¡° í†µì¼
\thispagestyle{plain}

\metainfo{Big Data Analysis \& Engineering}
    {Day 14 - Databricks Roadmap \& Review}
    {Prof. \& Teaching Staff}
    {Databricksì˜ ìµœì‹  ê¸°ëŠ¥(Lakebase, AI/BI, Agent) ì´í•´ ë° Quiz 2, Assignment 3ì˜ ì£¼ìš” ê°œë…(Spark ìµœì í™”, Streaming) ì‹¬ì¸µ ë¦¬ë·°}

\tableofcontents

\newpage

% =========================================================
% 4. ë³¸ë¬¸ ë‚´ìš©
% =========================================================

\section{Databricks Data Intelligence Platform (Roadmap)}

ì´ë²ˆ ê°•ì˜ì—ì„œëŠ” Databricks ë¡œë“œë§µì— í¬í•¨ëœ ìµœì‹  ê¸°ëŠ¥ë“¤ì„ ë‹¤ë£¹ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ë“¤ì€ ì£¼ë¡œ \textbf{Data Intelligence Capabilities}ë¥¼ ê°•í™”í•˜ì—¬ í”Œë«í¼ì„ ë” ìŠ¤ë§ˆíŠ¸í•˜ê²Œ ë§Œë“¤ê³  ë°ì´í„° ë‹´ë‹¹ìì˜ ì—…ë¬´ë¥¼ ì¤„ì´ëŠ” ë° ì´ˆì ì„ ë§ì¶¥ë‹ˆë‹¤.

\subsection{ì£¼ìš” êµ¬ì„± ìš”ì†Œ ìš”ì•½}

\begin{table}[h!]
    \centering
    \begin{adjustbox}{width=\textwidth, center}
    \begin{tabular}{l|l|l}
    \toprule
    \textbf{Category} & \textbf{Feature} & \textbf{Description} \\
    \midrule
    \textbf{Data Warehousing} & Lakebase (Postgres) & Lakehouse í™˜ê²½ ë‚´ì—ì„œ OLTP íŠ¸ëœì­ì…˜ ì²˜ë¦¬ë¥¼ ì§€ì›í•˜ëŠ” ê´€ë¦¬í˜• Postgres. \\
    \midrule
    \textbf{AI \& Agents} & Agent Bricks & AutoMLì²˜ëŸ¼ ë°ì´í„°ì…‹ë§Œ ì§€ì •í•˜ë©´ ì—ì´ì „íŠ¸ë¥¼ ìë™ ìƒì„±í•´ì£¼ëŠ” í”„ë ˆì„ì›Œí¬. \\
    & Genie & ì •í˜•í™”ëœ "What" ì§ˆë¬¸ì— ëŒ€í•œ ë‹µë³€ì„ ì œê³µí•˜ëŠ” BI ë„êµ¬. \\
    & Research Mode & ê°€ì„¤ ê¸°ë°˜ì˜ "Why" ì§ˆë¬¸ì— ëŒ€í•´ Chain of Thoughtë¥¼ í†µí•´ ì‹¬ì¸µ ë‹µë³€ ì œê³µ. \\
    \midrule
    \textbf{Governance} & ABAC & ì†ì„± ê¸°ë°˜ ì ‘ê·¼ ì œì–´(Attribute-Based Access Control). PII íƒœê·¸ ë“±ì— ë”°ë¼ ìë™ ê¶Œí•œ ë¶€ì—¬. \\
    \midrule
    \textbf{Apps} & Lakehouse Apps & ë°ì´í„°ê°€ ìˆëŠ” ê³³ì—ì„œ ë°”ë¡œ ì‹¤í–‰ë˜ëŠ” Python(Streamlit ë“±) ê¸°ë°˜ ì•±. ë³´ì•ˆ ë° í™•ì¥ì„± ë³´ì¥. \\
    \bottomrule
    \end{tabular}
    \end{adjustbox}
    \caption{Databricks ì£¼ìš” ì‹ ê·œ ê¸°ëŠ¥ ìš”ì•½}
\end{table}

\subsection{Lakebase (Managed Postgres)}
ê¸°ì¡´ì˜ DatabricksëŠ” OLAP(ë¶„ì„ìš©)ì— ìµœì í™”ë˜ì–´ ìˆì—ˆìœ¼ë‚˜, \textbf{Lakebase}ì˜ ë„ì…ìœ¼ë¡œ OLTP(íŠ¸ëœì­ì…˜ìš©) ì›Œí¬ë¡œë“œê¹Œì§€ ì»¤ë²„í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

\begin{itemize}
    \item \textbf{êµ¬ì¡°ì  íŠ¹ì§•}: Computeì™€ Storageê°€ ë¶„ë¦¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
    \item \textbf{ì¥ì }: 
        \begin{itemize}
            \item ì‚¬ìš©ëŸ‰ì´ ëŠ˜ì–´ë‚˜ë©´ Computeê°€ í™•ì¥(Scale-up)ë˜ê³ , ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ 0ìœ¼ë¡œ ì¶•ì†Œ(Scale-to-Zero)ë˜ì–´ ë¹„ìš© íš¨ìœ¨ì ì…ë‹ˆë‹¤.
            \item Productionê³¼ Development ë¸Œëœì¹˜ë¥¼ ê¸°ë³¸ ì œê³µí•˜ì—¬, ìš´ì˜ í™˜ê²½ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šê³  í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
        \end{itemize}
    \item \textbf{í†µí•©}: Unity Catalogì™€ ì—°ë™ë˜ë©°, Lakehouseì™€ Lakebase ê°„ ì–‘ë°©í–¥ ë°ì´í„° ë™ê¸°í™”(Reverse Sync)ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
\end{itemize}

\subsection{AI/BI: Genie \& Research Mode}
\begin{itemize}
    \item \textbf{Genie}: ì •í˜• ë°ì´í„°ì— ëŒ€í•œ ì‚¬ì‹¤ì  ì§ˆë¬¸(Fact-based questions)ì„ SQLë¡œ ë³€í™˜í•˜ì—¬ ë‹µë³€í•©ë‹ˆë‹¤.
    \item \textbf{Research Mode}: "ì™œ(Why)"ì— ëŒ€í•œ ì§ˆë¬¸ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤. ë‹¨ìˆœ ê²€ìƒ‰ì´ ì•„ë‹ˆë¼ ê°€ì„¤ì„ ì„¸ìš°ê³  ì—¬ëŸ¬ ê²½ë¡œë¥¼ íƒìƒ‰(Reasoning)í•˜ì—¬ ë‹µë³€ì„ ë„ì¶œí•©ë‹ˆë‹¤. (ì˜ˆ: "ê´€ì„¸ ì¸ìƒì´ í¬íŠ¸í´ë¦¬ì˜¤ì— ë¯¸ì¹  ì˜í–¥ì€?")
\end{itemize}

\subsection{Apps \& Model Serving}
\begin{itemize}
    \item \textbf{Apps}: Streamlit, Flask ë“±ìœ¼ë¡œ ë§Œë“  ì•±ì„ ë°ì´í„°ê°€ ì €ì¥ëœ í”Œë«í¼ ìœ„ì—ì„œ ì§ì ‘ êµ¬ë™í•©ë‹ˆë‹¤. ë°ì´í„° ì´ë™ ì—†ì´ ë³´ì•ˆì´ ìœ ì§€ëœ ìƒíƒœë¡œ ëŒ€ì‹œë³´ë“œ ì´ìƒì˜ ìƒí˜¸ì‘ìš©(Write-back ë“±)ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
    \item \textbf{Model Serving}: ìµœì‹  LLM(Llama, Gemini, Claude ë“±)ì„ ì¦‰ì‹œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì œê³µí•˜ë©°, MCP(Model Context Protocol) ì„œë²„ë¥¼ í†µí•´ ì—ì´ì „íŠ¸ê°€ ì™¸ë¶€ ë„êµ¬ë‚˜ ë°ì´í„°ì— ì ‘ê·¼í•˜ë„ë¡ ì§€ì›í•©ë‹ˆë‹¤.
\end{itemize}

\newpage

\section{Quiz 2 Review: Spark \& Delta Lake Concepts}

í€´ì¦ˆì—ì„œ ë§ì´ í˜¼ë™í–ˆë˜ Sparkì™€ Delta Lakeì˜ í•µì‹¬ ê°œë…ì„ ì •ë¦¬í•©ë‹ˆë‹¤.

\subsection{Spark Optimization \& Troubleshooting}

\begin{enumerate}
    \item \textbf{Spark ìµœì í™” 4ëŒ€ ìš”ì†Œ}: Data Skew, Shuffle, Spill, Small Files.
    \item \textbf{Broadcast Variables}:
        \begin{itemize}
            \item \textbf{Immutable (ë¶ˆë³€)}: ìƒì„± í›„ ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
            \item \textbf{Local to Workers}: í´ëŸ¬ìŠ¤í„° ê°„ ê³µìœ ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ê° ì›Œì»¤ ë…¸ë“œì— ë³µì‚¬ë³¸ì´ ì €ì¥ë©ë‹ˆë‹¤.
        \end{itemize}
    \item \textbf{Repartition vs Coalesce}:
        \begin{itemize}
            \item íŒŒí‹°ì…˜ì„ \textbf{ëŠ˜ë¦´ ë•Œ} (ì˜ˆ: 12 $\rightarrow$ 24): `repartition()` ì‚¬ìš© (Shuffle ë°œìƒ).
            \item íŒŒí‹°ì…˜ì„ \textbf{ì¤„ì¼ ë•Œ}: `coalesce()` ì‚¬ìš© (Shuffle ìµœì†Œí™”).
        \end{itemize}
    \item \textbf{Action í•¨ìˆ˜ ì£¼ì˜ì‚¬í•­}:
        \begin{itemize}
            \item `collect()`: ëª¨ë“  ë°ì´í„°ë¥¼ ë“œë¼ì´ë²„ë¡œ ê°€ì ¸ì˜¤ë¯€ë¡œ OOM(Out of Memory) ìœ„í—˜ì´ í¼. ë””ë²„ê¹…ìš©ìœ¼ë¡œë§Œ ì‚¬ìš© ê¶Œì¥.
            \item `take(n)`: í•„ìš”í•œ $n$ê°œ í–‰ë§Œ ê°€ì ¸ì˜¤ë¯€ë¡œ ëŒ€ìš©ëŸ‰ ë°ì´í„°ì—ì„œ ì•ˆì „í•¨.
        \end{itemize}
\end{enumerate}

\subsection{Delta Lake Internals}
\begin{itemize}
    \item \textbf{Transaction Log}: `_delta_log` í´ë” ë‚´ì— ì €ì¥ë©ë‹ˆë‹¤.
    \item \textbf{êµ¬ì¡°}: ê° íŠ¸ëœì­ì…˜ì€ \textbf{ê°œë³„ JSON íŒŒì¼}ë¡œ ê¸°ë¡ë©ë‹ˆë‹¤. (í•˜ë‚˜ì˜ JSONì´ ì•„ë‹˜). 10ë²ˆì§¸ íŠ¸ëœì­ì…˜ë§ˆë‹¤ Checkpoint(Parquet) íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤.
    \item \textbf{Time Travel}: ë³„ë„ì˜ ë³µì‚¬ë³¸ì„ ë§Œë“œëŠ” ê²ƒì´ ì•„ë‹ˆë¼, íŠ¸ëœì­ì…˜ ë¡œê·¸ë¥¼ í†µí•´ ê³¼ê±° ì‹œì ì˜ ë°ì´í„° ìƒíƒœë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
\end{itemize}

\subsection{Data Frame Operations}
\begin{itemize}
    \item \textbf{Explode}: DataFrameì˜ ë©”ì„œë“œê°€ ì•„ë‹ˆë¼ `select` ë¬¸ ë‚´ì—ì„œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. (ì˜ˆ: `df.select(explode(col))`)
    \item \textbf{Drop Duplicates}: `df.dropDuplicates(['col1', 'col2'])` í˜•íƒœë¡œ ë¦¬ìŠ¤íŠ¸ë¥¼ ì „ë‹¬í•´ì•¼ í•©ë‹ˆë‹¤.
\end{itemize}

\newpage

\section{Assignment 3 Review: Streaming \& Architecture}

\subsection{Kafka vs. Kinesis}
\begin{table}[h!]
    \centering
    \begin{adjustbox}{width=\textwidth, center}
    \begin{tabular}{l|l|l}
    \toprule
    \textbf{Feature} & \textbf{AWS Kinesis} & \textbf{Apache Kafka} \\
    \midrule
    \textbf{ê´€ë¦¬ ì£¼ì²´} & AWS ì™„ì „ ê´€ë¦¬í˜• (Managed) & Confluent (ìƒìš©) ë˜ëŠ” Open Source (ì§ì ‘ ê´€ë¦¬) \\
    \textbf{í™•ì¥ ë‹¨ìœ„} & \textbf{Shard} (ìƒ¤ë“œ ìˆ˜ì— ë”°ë¼ ë¹„ìš©/ì„±ëŠ¥ ê²°ì •) & \textbf{Partition} (íŒŒí‹°ì…˜ ë‹¨ìœ„ë¡œ ë³‘ë ¬ ì²˜ë¦¬) \\
    \textbf{ë°ì´í„° ë¶„ë°°} & Partition Key ì‚¬ìš© & Round-robin ë˜ëŠ” Key-Value ê¸°ë°˜ Partitioning \\
    \bottomrule
    \end{tabular}
    \end{adjustbox}
    \caption{Kinesisì™€ Kafka ë¹„êµ}
\end{table}

\subsection{Slowly Changing Dimensions (SCD)}
\begin{itemize}
    \item \textbf{Type 1}: ê³¼ê±° ë°ì´í„°ë¥¼ ë®ì–´ì”€(Overwrite). ì´ë ¥ ê´€ë¦¬ ì•ˆ ë¨.
    \item \textbf{Type 2}: ìƒˆë¡œìš´ í–‰ì„ ì¶”ê°€í•˜ê³  ìœ íš¨ ê¸°ê°„(Start/End Date)ì´ë‚˜ í”Œë˜ê·¸(Current)ë¥¼ ë‘ì–´ ì´ë ¥ì„ ê´€ë¦¬í•¨.
    \item \textbf{Delta Merge}: `MERGE INTO` êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ë³€ê²½ëœ ì»¬ëŸ¼(ì˜ˆ: City)ë§Œ ê°ì§€í•˜ê³  ì—…ë°ì´íŠ¸/ì‚½ì… ë¡œì§ì„ êµ¬í˜„í•©ë‹ˆë‹¤.
\end{itemize}

\subsection{Spark Streaming Logic}
\begin{itemize}
    \item \textbf{Trigger ì˜µì…˜}:
        \begin{itemize}
            \item `trigger(once=True)`: \textbf{Deprecated}.
            \item `trigger(availableNow=True)`: ê¶Œì¥ë¨. ë°ì´í„°ë¥¼ ë§ˆì´í¬ë¡œ ë°°ì¹˜ë¡œ ë‚˜ëˆ„ì–´ ì²˜ë¦¬í•˜ë¯€ë¡œ í´ëŸ¬ìŠ¤í„° ê³¼ë¶€í•˜ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.
        \end{itemize}
    \item \textbf{Checkpointing}: ìŠ¤íŠ¸ë¦¬ë°ì˜ í•µì‹¬. ì‹œìŠ¤í…œ ì¤‘ë‹¨ í›„ ì¬ì‹œì‘ ì‹œ ì¤‘ë‹¨ëœ ì§€ì ë¶€í„° ì •í™•íˆ ë‹¤ì‹œ ì²˜ë¦¬(Exactly-once)í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.
    \item \textbf{Image Processing}:
        \begin{itemize}
            \item Spark Serverless í™˜ê²½ì—ì„œëŠ” `display()`ë¡œ ì´ë¯¸ì§€ë¥¼ ì§ì ‘ ë Œë”ë§í•˜ì§€ ëª»í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            \item `pillow` ë¼ì´ë¸ŒëŸ¬ë¦¬ ë“±ì„ ì‚¬ìš©í•˜ì—¬ ë°”ì´ë„ˆë¦¬ ë°ì´í„°ë¥¼ ì´ë¯¸ì§€ë¡œ ë³€í™˜í•˜ê±°ë‚˜ ì²˜ë¦¬(Invert ë“±)í•˜ëŠ” UDFë¥¼ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤.
        \end{itemize}
\end{itemize}

\section{Next Steps \& Action Items}
\begin{itemize}
    \item \textbf{Assignment 4}: ë‹¤ìŒ ìˆ˜ì—… ì „ê¹Œì§€ ìµœì¢… ê³¼ì œ(Assignment 4)ë¥¼ í™•ì¸í•˜ê³  ì¤€ë¹„í•  ê²ƒ.
    \item \textbf{Guest Lecture}: ë‹¤ìŒ ìˆ˜ì—…ì—ëŠ” ì—…ê³„ ì „ë¬¸ê°€ ì´ˆì²­ ê°•ì—°ì´ ì˜ˆì •ë˜ì–´ ìˆìŒ.
\end{itemize}

\end{document}
